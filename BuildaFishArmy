local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UIS = game:GetService("UserInputService")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "InstantCatchFishButtonGUI"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

local Button = Instance.new("TextButton")
Button.Name = "InstantCatchFishBtn"
Button.Parent = ScreenGui
Button.Size = UDim2.new(0, 140, 0, 40)
Button.Position = UDim2.new(0.5, -70, 0.75, 0)
Button.BackgroundColor3 = Color3.fromRGB(100, 100, 100) -- Gray color
Button.TextColor3 = Color3.new(1, 1, 1) -- White text
Button.TextScaled = true
Button.Text = "Catch Fish"
Button.Font = Enum.Font.GothamBold
Button.TextSize = 14
Button.BorderSizePixel = 0
Button.AutoButtonColor = true


local Corner = Instance.new("UICorner")
Corner.CornerRadius = UDim.new(0, 8)
Corner.Parent = Button


local Stroke = Instance.new("UIStroke")
Stroke.Thickness = 2
Stroke.Color = Color3.fromRGB(150, 150, 150)
Stroke.Parent = Button


local dragging = false
local dragStart
local startPos

local function update(input)
	local delta = input.Position - dragStart
	Button.Position = UDim2.new(
		startPos.X.Scale,
		startPos.X.Offset + delta.X,
		startPos.Y.Scale,
		startPos.Y.Offset + delta.Y
	)
end

Button.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1
	or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = Button.Position
		
		
		Button.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	end
end)

Button.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1
	or input.UserInputType == Enum.UserInputType.Touch then
		dragging = false
		
		Button.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
	end
end)

UIS.InputChanged:Connect(function(input)
	if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement
	or input.UserInputType == Enum.UserInputType.Touch) then
		update(input)
	end
end)

Button.MouseButton1Click:Connect(function()
	
	local originalColor = Button.BackgroundColor3
	Button.BackgroundColor3 = Color3.fromRGB(120, 120, 120)
	
	
	local args = {true}
	game:GetService("ReplicatedStorage")
		:WaitForChild("Network")
		:WaitForChild("PlayFishCatch")
		:FireServer(unpack(args))
	
	
	task.wait(0.1)
	Button.BackgroundColor3 = originalColor
end)
